
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../syslog_config/">
      
      
        <link rel="next" href="../sysadmin/">
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>Configuation - OpenCloudOS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#opencloudos-basic-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../" title="OpenCloudOS Documentation" class="md-header__button md-logo" aria-label="OpenCloudOS Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenCloudOS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../../../guide/config/" hreflang="zh" class="md-select__link">
                    中文
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="./" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/OpenCloudOS/opencloudos.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    OpenCloudOS/opencloudos.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../quickstart/V9_install/" class="md-tabs__link">
        Quick Start
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../grub2_boot/" class="md-tabs__link md-tabs__link--active">
        Guide
      </a>
    </li>
  

  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../release/v8.5/" class="md-tabs__link">
        Releases
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../faq/" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../contribution/how-to/" class="md-tabs__link">
        Contributing
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../adaptation/adaptation_process/" class="md-tabs__link">
        Adaptation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../migrate_relative/" class="md-tabs__link">
        About CentOS End-of-Life
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../download/iso/" class="md-tabs__link">
        Download
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tcase/proj/" class="md-tabs__link">
        Test
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="OpenCloudOS Documentation" class="md-nav__button md-logo" aria-label="OpenCloudOS Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    OpenCloudOS Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/OpenCloudOS/opencloudos.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    OpenCloudOS/opencloudos.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Quick Start
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Quick Start
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/V9_install/" class="md-nav__link">
        OC V9 Download and Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/V8_install/" class="md-nav__link">
        OC V8 Download and Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/use/" class="md-nav__link">
        How to Use
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          安装启动指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          安装启动指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
          系统启动管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1_1">
          <span class="md-nav__icon md-icon"></span>
          系统启动管理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../grub2_boot/" class="md-nav__link">
        系统引导管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../uefi_boot/" class="md-nav__link">
        UEFI引导启动项管理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          系统管理指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          系统管理指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../syslog_config/" class="md-nav__link">
        日志管理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-initial-environment-setup" class="md-nav__link">
    1 Initial Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="1 Initial Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-configure-time-and-date" class="md-nav__link">
    1.1 Configure time and date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-configure-system-locale" class="md-nav__link">
    1.2 Configure system locale
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuration-and-management-network-environment" class="md-nav__link">
    2 Configuration and Management Network Environment
  </a>
  
    <nav class="md-nav" aria-label="2 Configuration and Management Network Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-static-network-configuration" class="md-nav__link">
    2.1 Static network configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-dhcp-network-configuration" class="md-nav__link">
    2.2 DHCP network configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-custom-dns" class="md-nav__link">
    2.3 Custom DNS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-systemd-management" class="md-nav__link">
    3 Systemd management
  </a>
  
    <nav class="md-nav" aria-label="3 Systemd management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-service-startup-settings" class="md-nav__link">
    3.1 Service startup settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-service-shielding" class="md-nav__link">
    3.2 Service shielding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-service-daily-operation" class="md-nav__link">
    3.3 Service Daily Operation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-account-management" class="md-nav__link">
    4 Account Management
  </a>
  
    <nav class="md-nav" aria-label="4 Account Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-manage-accounts-and-groups" class="md-nav__link">
    4.1 Manage Accounts and Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-dump-crash-kernel" class="md-nav__link">
    5 Dump crash kernel
  </a>
  
    <nav class="md-nav" aria-label="5 Dump crash kernel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-kdump-installation" class="md-nav__link">
    5.1 Kdump installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-configure-capture-kernel-size" class="md-nav__link">
    5.2 Configure capture kernel size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-configure-the-storage-location-of-the-capture-kernel" class="md-nav__link">
    5.3 Configure the storage location of the capture kernel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-trigger-a-kernel-panic" class="md-nav__link">
    5.4 Trigger a kernel panic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-analyze-vmcore" class="md-nav__link">
    5.5 Analyze vmcore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-log-analysis" class="md-nav__link">
    6 Log Analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-systemd-mechanism" class="md-nav__link">
    7 Systemd mechanism
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-chrony-mechanism" class="md-nav__link">
    8 Chrony mechanism
  </a>
  
    <nav class="md-nav" aria-label="8 Chrony mechanism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-installation-configuration" class="md-nav__link">
    8.1 Installation configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-add-time-source" class="md-nav__link">
    8.2 Add time source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-the-configuration-takes-effect" class="md-nav__link">
    8.3 The configuration takes effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-bond-configuration" class="md-nav__link">
    9 Bond Configuration
  </a>
  
    <nav class="md-nav" aria-label="9 Bond Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-bond-mode" class="md-nav__link">
    9.1 Bond mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-configure-bond" class="md-nav__link">
    9.2 Configure bond
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-lvm-management" class="md-nav__link">
    10 LVM Management
  </a>
  
    <nav class="md-nav" aria-label="10 LVM Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-basic-concepts" class="md-nav__link">
    10.1 Basic concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-deploy-lvm" class="md-nav__link">
    10.2 Deploy lvm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103-volume-group-management" class="md-nav__link">
    10.3 Volume group management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104-logical-volume-management" class="md-nav__link">
    10.4 Logical volume management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-soft-raid-management" class="md-nav__link">
    11 Soft RAID Management
  </a>
  
    <nav class="md-nav" aria-label="11 Soft RAID Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-raid-logical-classification" class="md-nav__link">
    11.1 RAID logical classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-soft-raid10-deployment" class="md-nav__link">
    11.2 Soft RAID10 Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-unmounting-the-raid-array" class="md-nav__link">
    11.3 Unmounting the RAID array
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-partition-management" class="md-nav__link">
    12 Partition Management
  </a>
  
    <nav class="md-nav" aria-label="12 Partition Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-disk-partition-basics" class="md-nav__link">
    12.1 Disk Partition Basics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-create-mbr-partition" class="md-nav__link">
    12.2 Create MBR partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-format-partition" class="md-nav__link">
    12.3 Format partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-mountunmount-partitions" class="md-nav__link">
    12.4 Mount/unmount partitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-create-gpt-partition" class="md-nav__link">
    12.5 Create GPT partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-resize-partition" class="md-nav__link">
    12.6 Resize Partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#127-delete-gpt-partition" class="md-nav__link">
    12.7 Delete GPT partition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sysadmin/" class="md-nav__link">
        System Admin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../update/" class="md-nav__link">
        Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../monitor/" class="md-nav__link">
        System Monitor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
          Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/file_system/" class="md-nav__link">
        File System
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/configuring_and_managing_logical_volumes/" class="md-nav__link">
        Logical Volumes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/managing_storage_devices/" class="md-nav__link">
        Storage Devices
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
          Network
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_9">
          <span class="md-nav__icon md-icon"></span>
          Network
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network1-6/" class="md-nav__link">
        Chapter 1-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network7-12/" class="md-nav__link">
        Chapter 7-12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network13-18/" class="md-nav__link">
        Chapter 13-18
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network19-24/" class="md-nav__link">
        Chapter 19-24
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network25-30/" class="md-nav__link">
        Chapter 25-30
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network31-36/" class="md-nav__link">
        Chapter 31-36
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network37-42/" class="md-nav__link">
        Chapter 37-42
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network43-48/" class="md-nav__link">
        Chapter 43-48
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network49-54/" class="md-nav__link">
        Chapter 49-54
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network/Network55-57/" class="md-nav__link">
        Chapter 55-57
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/v8.5/" class="md-nav__link">
        v8.5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/v8.6/" class="md-nav__link">
        v8.6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/v9.0/" class="md-nav__link">
        v9.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/ocs/" class="md-nav__link">
        OpenCloudOS Stream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/ocsk/" class="md-nav__link">
        OpenCloudOS Stream Kernel
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribution/how-to/" class="md-nav__link">
        How to contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribution/docs-format-guide/" class="md-nav__link">
        Documentation format guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribution/kernel-develop-guide/" class="md-nav__link">
        Kernel Development Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Adaptation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Adaptation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptation/adaptation_process/" class="md-nav__link">
        Adaptation Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptation/testcase/" class="md-nav__link">
        Test Case
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
          Adaptation Lists
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Adaptation Lists
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptation/adaptation_hw/" class="md-nav__link">
        Hardware Adaptation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptation/adaptation_sw/" class="md-nav__link">
        Commercial Software Adaptation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptation/adaptation_oss/" class="md-nav__link">
        OpenSouce Software Adaptation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptation/adaptation_FAQ/" class="md-nav__link">
        Adaptation FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          About CentOS End-of-Life
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          About CentOS End-of-Life
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrate_relative/" class="md-nav__link">
        About CentOS End-of-Life
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrate/" class="md-nav__link">
        Migrate from CentOS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Download
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Download
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../download/iso/" class="md-nav__link">
        ISO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../download/mirrors/" class="md-nav__link">
        镜像源
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Test
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Test
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/proj/" class="md-nav__link">
        一、项目管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_10_2" id="__nav_10_2_label" tabindex="0">
          二、用例管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10_2">
          <span class="md-nav__icon md-icon"></span>
          二、用例管理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/case_create/" class="md-nav__link">
        编写用例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/case_extract/" class="md-nav__link">
        提取用例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/case_import/" class="md-nav__link">
        导入用例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/case_set/" class="md-nav__link">
        用例集
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_10_3" id="__nav_10_3_label" tabindex="0">
          三、执行环境
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          三、执行环境
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/node/" class="md-nav__link">
        新增节点
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/cluster/" class="md-nav__link">
        新增集群
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_10_4" id="__nav_10_4_label" tabindex="0">
          四、任务管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10_4">
          <span class="md-nav__icon md-icon"></span>
          四、任务管理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/task_create/" class="md-nav__link">
        创建任务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tcase/task_execute/" class="md-nav__link">
        执行任务
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-initial-environment-setup" class="md-nav__link">
    1 Initial Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="1 Initial Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-configure-time-and-date" class="md-nav__link">
    1.1 Configure time and date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-configure-system-locale" class="md-nav__link">
    1.2 Configure system locale
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuration-and-management-network-environment" class="md-nav__link">
    2 Configuration and Management Network Environment
  </a>
  
    <nav class="md-nav" aria-label="2 Configuration and Management Network Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-static-network-configuration" class="md-nav__link">
    2.1 Static network configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-dhcp-network-configuration" class="md-nav__link">
    2.2 DHCP network configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-custom-dns" class="md-nav__link">
    2.3 Custom DNS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-systemd-management" class="md-nav__link">
    3 Systemd management
  </a>
  
    <nav class="md-nav" aria-label="3 Systemd management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-service-startup-settings" class="md-nav__link">
    3.1 Service startup settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-service-shielding" class="md-nav__link">
    3.2 Service shielding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-service-daily-operation" class="md-nav__link">
    3.3 Service Daily Operation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-account-management" class="md-nav__link">
    4 Account Management
  </a>
  
    <nav class="md-nav" aria-label="4 Account Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-manage-accounts-and-groups" class="md-nav__link">
    4.1 Manage Accounts and Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-dump-crash-kernel" class="md-nav__link">
    5 Dump crash kernel
  </a>
  
    <nav class="md-nav" aria-label="5 Dump crash kernel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-kdump-installation" class="md-nav__link">
    5.1 Kdump installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-configure-capture-kernel-size" class="md-nav__link">
    5.2 Configure capture kernel size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-configure-the-storage-location-of-the-capture-kernel" class="md-nav__link">
    5.3 Configure the storage location of the capture kernel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-trigger-a-kernel-panic" class="md-nav__link">
    5.4 Trigger a kernel panic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-analyze-vmcore" class="md-nav__link">
    5.5 Analyze vmcore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-log-analysis" class="md-nav__link">
    6 Log Analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-systemd-mechanism" class="md-nav__link">
    7 Systemd mechanism
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-chrony-mechanism" class="md-nav__link">
    8 Chrony mechanism
  </a>
  
    <nav class="md-nav" aria-label="8 Chrony mechanism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-installation-configuration" class="md-nav__link">
    8.1 Installation configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-add-time-source" class="md-nav__link">
    8.2 Add time source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-the-configuration-takes-effect" class="md-nav__link">
    8.3 The configuration takes effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-bond-configuration" class="md-nav__link">
    9 Bond Configuration
  </a>
  
    <nav class="md-nav" aria-label="9 Bond Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-bond-mode" class="md-nav__link">
    9.1 Bond mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-configure-bond" class="md-nav__link">
    9.2 Configure bond
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-lvm-management" class="md-nav__link">
    10 LVM Management
  </a>
  
    <nav class="md-nav" aria-label="10 LVM Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-basic-concepts" class="md-nav__link">
    10.1 Basic concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-deploy-lvm" class="md-nav__link">
    10.2 Deploy lvm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103-volume-group-management" class="md-nav__link">
    10.3 Volume group management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104-logical-volume-management" class="md-nav__link">
    10.4 Logical volume management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-soft-raid-management" class="md-nav__link">
    11 Soft RAID Management
  </a>
  
    <nav class="md-nav" aria-label="11 Soft RAID Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-raid-logical-classification" class="md-nav__link">
    11.1 RAID logical classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-soft-raid10-deployment" class="md-nav__link">
    11.2 Soft RAID10 Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-unmounting-the-raid-array" class="md-nav__link">
    11.3 Unmounting the RAID array
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-partition-management" class="md-nav__link">
    12 Partition Management
  </a>
  
    <nav class="md-nav" aria-label="12 Partition Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-disk-partition-basics" class="md-nav__link">
    12.1 Disk Partition Basics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-create-mbr-partition" class="md-nav__link">
    12.2 Create MBR partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-format-partition" class="md-nav__link">
    12.3 Format partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-mountunmount-partitions" class="md-nav__link">
    12.4 Mount/unmount partitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-create-gpt-partition" class="md-nav__link">
    12.5 Create GPT partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-resize-partition" class="md-nav__link">
    12.6 Resize Partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#127-delete-gpt-partition" class="md-nav__link">
    12.7 Delete GPT partition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/OpenCloudOS/opencloudos.github.io/edit/main/docs/guide/config.en.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/OpenCloudOS/opencloudos.github.io/raw/main/docs/guide/config.en.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<h1 id="opencloudos-basic-configuration"><center> OpenCloudOS-Basic Configuration</h1>
<h2 id="1-initial-environment-setup">1 Initial Environment Setup</h2>
<p>The basic environment configuration is part of the installation process. The following describes how to modify the basic configuration at the OS level after the system is installed. The basic environment configuration includes:</p>
<ul>
<li>time and date</li>
<li>system locale</li>
</ul>
<h3 id="11-configure-time-and-date">1.1 Configure time and date</h3>
<p>Precise timing is critical in production systems. Under OpenCloudOS, the time accuracy is guaranteed through the NTP protocol. The NTP protocol is implemented through a daemon process in user mode, which updates the system clock in the kernel, and the system clock can use different clock sources to maintain time.
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# date

Tue Aug 2 19:44:17 CST 2022
</code></pre></div></p>
<p>To see more information, use the timedatectl command:
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# timedatectl

Local time: Tue 2022-08-02 19:46:01 CST

Universal time: Tue 2022-08-02 11:46:01 UTC

RTC time: Tue 2022-08-02 11:46:00

Time zone: Asia/Shanghai (CST, +0800)

System clock synchronized: yes

NTP service: active

RTC in local TZ: no
</code></pre></div></p>
<ul>
<li><strong>More help:</strong> man date(1) / man timedatectl(1)</li>
</ul>
<h3 id="12-configure-system-locale">1.2 Configure system locale</h3>
<p>System-wide locales are configured in the /etc/local/conf file, which is read during systemd's initial startup. Each service or user will inherit the configuration here by default. Of course, some programs and users can also customize and modify the configuration.</p>
<p>View available locale settings: localectl list-locales
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# localectl list-locales

C.utf8

en\_AG

en\_AU

en\_AU.utf8

en\_BW

en\_BW.utf8

...
</code></pre></div></p>
<p>View the current system locale settings
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# localectl status

System Locale: LANG=en\_US.UTF-8

VC Keymap: us

X11 Layout: us
</code></pre></div></p>
<ul>
<li>More help: man localectl(1) man locale(7) man locale.conf(5)</li>
</ul>
<h2 id="2-configuration-and-management-network-environment">2 Configuration and Management Network Environment</h2>
<p>This chapter introduces how to configure network connections on OpenCloudOS. The default management method of OpenCloudOS is NetworkManager.service, which supports all configuration methods of NetworkManager. However, the server-side management is more convenient through the traditional ifcfg configuration method. Here is an introduction to the ifcfg configuration method.</p>
<h3 id="21-static-network-configuration">2.1 Static network configuration</h3>
<ol>
<li>
<p>Determine the configuration network card name</p>
<p><code>/proc/net/dev</code> file to view network devices</p>
</li>
<li>
<p>Configure ip for eth1</p>
</li>
</ol>
<p>Here we directly adopt the traditional ifcfg configuration method, we only configure ip by default, and do not configure dns and gateway</p>
<p>Edit the file <code>/etc/sysconfig/network-scripts/ifcfg-eth1</code> directly
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]# vim /etc/sysconfig/network-scripts/ifcfg-eth1

BOOTPROTO=static 
DEVICE=eth1

ONBOOT=yes

HWADDR=20:90:6F:EC:F4:52 # Network card mac address

TYPE=Ethernet

USERCTL=no # Whether to allow non-root users to control the device

IPADDR=172.27.16.39 # network card ip address

NETMASK=255.255.255.0 # subnet mask
</code></pre></div></p>
<ol>
<li>Restart the network
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl restart NetworkManager.service
</code></pre></div></li>
</ol>
<h3 id="22-dhcp-network-configuration">2.2 DHCP network configuration</h3>
<ol>
<li>
<p>Determine the configuration network card name</p>
<p><code>/proc/net/dev</code> file to view network devices</p>
</li>
<li>
<p>Configure ip for eth1</p>
</li>
</ol>
<p>Here directly adopt the traditional ifcfg configuration method, the method is dhcp
<div class="highlight"><pre><span></span><code>BOOTPROTO=dhcp

DEVICE=eth1

HWADDR=20:90:6F:EC:F4:52

ONBOOT=yes

TYPE=Ethernet

USERCTL=no
</code></pre></div></p>
<ol>
<li>Restart the network</li>
</ol>
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl restart NetworkManager.service
</code></pre></div>
<ul>
<li>For more help: man ifcfg</li>
</ul>
<h3 id="23-custom-dns">2.3 Custom DNS</h3>
<p>edit /etc/resolv.conf
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]# vim /etc/resolv.conf

nameserver 183.60.83.19

nameserver 183.60.82.98
</code></pre></div></p>
<ul>
<li>More help: man(5) resolve.conf</li>
</ul>
<h2 id="3-systemd-management">3 Systemd management</h2>
<p>Through systemd services, users can enable services to automatically start in an elegant way.</p>
<h3 id="31-service-startup-settings">3.1 Service startup settings</h3>
<ol>
<li>The service starts automatically
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl enable service\name
</code></pre></div></li>
<li>Service disabled autostart
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl disable service\name
</code></pre></div>
Note: The masked service cannot be enabled or disabled, it needs to be unmask first, refer to section 3.2.</li>
</ol>
<h3 id="32-service-shielding">3.2 Service shielding</h3>
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl mask service\_name
[root@OpencloudOS~]#systemctl unmask service\_name
</code></pre></div>
<h3 id="33-service-daily-operation">3.3 Service Daily Operation</h3>
<ol>
<li>Start the service
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl start service_name
</code></pre></div></li>
<li>restart service
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl restart service_name
</code></pre></div></li>
<li>View service status
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#systemctl status service_name
</code></pre></div></li>
<li>More help: man systemctl</li>
</ol>
<h2 id="4-account-management">4 Account Management</h2>
<p>OpenCloudOS supports multi-account management, allowing multiple accounts to log in to one system at the same time for operation. Accounts are generally divided into ordinary accounts and system accounts.</p>
<ul>
<li>Ordinary account</li>
</ul>
<p>Ordinary accounts are generally created for specific system users, and can be added, deleted, and modified during system management. Mainly used for user login operations.</p>
<ul>
<li>system account</li>
</ul>
<p>System accounts are generally used for specific applications, created when the application is installed, and are not modified afterwards</p>
<p>User IDs below 1000 are reserved for system accounts. IDs higher than 1000 can be used as ordinary accounts, but it is recommended to allocate ordinary accounts starting from 5000.</p>
<ul>
<li>Group</li>
</ul>
<p>A group can be bound to multiple accounts for unified authorization operations.</p>
<h3 id="41-manage-accounts-and-groups">4.1 Manage Accounts and Groups</h3>
<ul>
<li>View user and group IDs
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]# id

uid=0(root) gid=0(root) groups=0(root)
</code></pre></div></li>
<li>create user
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#adduser user_name
</code></pre></div></li>
<li>Set a password for the user
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#passwd user_name
</code></pre></div></li>
<li>Add the user to the user group (such as the root user)
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#usermod -g root user_name
</code></pre></div></li>
</ul>
<h2 id="5-dump-crash-kernel">5 Dump crash kernel</h2>
<h3 id="51-kdump-installation">5.1 Kdump installation</h3>
<p>kdump is a tool and service used to dump memory operating parameters when the system crashes, deadlocks or crashes. It is a new crash dump capture mechanism used to capture crash dumps generated during kernel crashes.</p>
<ol>
<li>Install kexec-tools
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#yum install kexec-tools
</code></pre></div></li>
<li>Update kexec-tools
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#yum update kexec-tools
</code></pre></div></li>
</ol>
<h3 id="52-configure-capture-kernel-size">5.2 Configure capture kernel size</h3>
<ol>
<li>Edit the configuration file "/etc/default/grub", find the field "crashkernel=", and configure it according to the following parameters
<div class="highlight"><pre><span></span><code>crashkernel=1800M-64G:256M, 64G-128G:512M,128G-:768M
</code></pre></div>
The user can set the amount of reserved memory as a variable based on the total amount of memory installed. The syntax to reserve memory to a variable is crashkernel=\&lt;range1&gt;:\&lt;size1&gt;, \&lt;range2&gt;:\&lt;size2&gt;. As shown in FIG. If the total system memory is between 1800MB and 64GB, the above example reserves 256MB of memory.</li>
</ol>
<p><em>It should be noted that for the first configuration, the reserved memory needs to be restarted to use kdump normally</em></p>
<ol>
<li>Update the grub2 configuration file
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#grub2-mkconfig -o /boot/grub2/grub.cfg
</code></pre></div></li>
</ol>
<h3 id="53-configure-the-storage-location-of-the-capture-kernel">5.3 Configure the storage location of the capture kernel</h3>
<p>Open the configuration file "/etc/kdump.conf"
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#vim /etc/kdump.conf
</code></pre></div>
The default storage address is "/var/crash/"</p>
<ul>
<li>Capture kernel dumps to a remote computer using the NFS protocol</li>
</ul>
<p>Delete the "#" before "nfs test.example.com:/export/tmp", and then configure the address information correctly</p>
<ul>
<li>Use the SSH protocol to capture kernel dumps to remote computers</li>
</ul>
<p>Similar to the above NFS protocol, delete the "#" before "ssh test.example.com", and then configure the address information correctly</p>
<h3 id="54-trigger-a-kernel-panic">5.4 Trigger a kernel panic</h3>
<p>Force a kernel panic to test if kdump is working
<div class="highlight"><pre><span></span><code>[root@OpencloudOS~]#echo c &gt; /proc/sysrq-trigger
</code></pre></div></p>
<h3 id="55-analyze-vmcore">5.5 Analyze vmcore</h3>
<p>Before capturing the kernel analysis, you need to prepare:</p>
<ul>
<li>vmlinux debug image</li>
</ul>
<p>The file is generally located in the "/boot/" directory corresponding to the kernel version, and the file naming format is as follows:</p>
<ul>
<li>vmlinux-5.4.109-x-xx-xxx</li>
</ul>
<p>If there is no corresponding debug image in this directory, you can download the kernel-debuginfo toolkit corresponding to the kernel version from the link below</p>
<p>http://mirrors.tencent.com/opencloudos/8.5/BaseOS/x86_64/debug/tree/Packages/
And use the following command to install, after successful installation, the corresponding vmlinux image will be generated in /boot/</p>
<p>And use the following command to install, after successful installation, the corresponding vmlinux image will be generated in /boot/
<div class="highlight"><pre><span></span><code>#rpm -ivh kernel-xxx-debuginfo-common-xxxx.rpm#rpm -ivh kernel-xxx-debuginfo-common-xxxx.rpm
</code></pre></div>
- vmcore file</p>
<p>Find the vmcore file in the corresponding directory (default is /var/crash/)</p>
<p>Start running the crash program to analyze vmcore</p>
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]# ls /var/crash/127.0.0.1-2022-08-19-02\:34\:00/
kexec-dmesg.log vmcore vmcore-dmesg.txt

crash\&gt; q // exit crash

crash\&gt; log //display message buffer

crash\&gt; bt //Display the function call stack before the kernel crash

crash\&gt; ps //Display the process status before the kernel crash

crash\&gt; vm //Display the virtual memory information before the kernel crash

crash\&gt; files //Display the file handle information before the kernel crash
</code></pre></div>
<h2 id="6-log-analysis">6 Log Analysis</h2>
<p>The kernel and system logs are uniformly managed by the system service rsyslog, which determines where to record kernel messages and various system program messages according to the settings in its main configuration file /etc/rsyslog.conf.</p>
<p>Commonly used system log files are shown in the following table:</p>
<table>
<thead>
<tr>
<th>Path</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/var/log/messages</td>
<td>Records common log messages for the kernel and various applications</td>
</tr>
<tr>
<td>/var/log/cron</td>
<td>Record event information generated by crond scheduled tasks</td>
</tr>
<tr>
<td>/var/log/dmesg</td>
<td>Record various event information during the boot process of the operating system</td>
</tr>
<tr>
<td>/var/log/mailog</td>
<td>Logs email activity into or out of the system</td>
</tr>
<tr>
<td>/var/log/boot.log</td>
<td>Logs at system startup, including self-starting services</td>
</tr>
<tr>
<td>/var/log/yum.log</td>
<td>Contains information about yum installed packages</td>
</tr>
<tr>
<td>/var/log/audit/</td>
<td>Contains the audit log of the audit daemon</td>
</tr>
<tr>
<td>/var/log/sa/</td>
<td>Contains daily sar files collected by the sysstat package</td>
</tr>
</tbody>
</table>
<ul>
<li>User logs</li>
</ul>
<p>User logs are used to record relevant information about operating system users logging in and out of the system, including user names, logged-in terminals, log-in time, source hosts, and process operations in use, etc.</p>
<p>Commonly used user log directories:</p>
<table>
<thead>
<tr>
<th>Path</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/var/log/lastlog</td>
<td>Logs the last login events for each user</td>
</tr>
<tr>
<td>/var/log/secure</td>
<td>Record security event information related to user authentication</td>
</tr>
<tr>
<td>/var/log/wtmp</td>
<td>Logs every user login, logout, and system startup and downtime</td>
</tr>
<tr>
<td>/var/log/btmp</td>
<td>Logs failed, bad login attempts and authentication events</td>
</tr>
</tbody>
</table>
<p>View log method:
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#cat /var/log/xxx
</code></pre></div>
Where xxx represents the log type, such as cat /var/log/lastlog</p>
<ul>
<li>program log</li>
</ul>
<p>Usually, the application maintains a log file by itself to record various event information during the running of the program. Since the log management and rules of each program are independent, the log record formats used by different programs are quite different.</p>
<ul>
<li>Service log</li>
</ul>
<p>Information generated by the kernel, initrd, and services can be processed through the Journal. Through the journalctl tool, access and manipulate the data inside the journal. For example, check the latest service information
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#journalctl -xe -u &quot;service&quot;
</code></pre></div></p>
<h2 id="7-systemd-mechanism">7 Systemd mechanism</h2>
<p>systemd is the main system daemon process management tool on the OpenCloudOS system. On the one hand, init manages the process serially, which is prone to blockage. On the other hand, init only executes the startup script and cannot update the service itself. More management, so systemd replaced init as the default system process management tool.</p>
<p>All system resources managed by systemd are called Units, and these Units can be easily managed through the systemd command set. Such as systemctl, hostnamectl, timedatectl, localctl and other commands.</p>
<p>The syntax for systemd is as follows:</p>
<table>
<thead>
<tr>
<th>systemctl [command]</th>
<th>[unit] (configured application name, take nginx as an example)</th>
</tr>
</thead>
<tbody>
<tr>
<td>command options:</td>
<td></td>
</tr>
<tr>
<td>start: start the specified unit</td>
<td>systemctl start nginx</td>
</tr>
<tr>
<td>stop: close the specified unit</td>
<td>systemctl stop nginx</td>
</tr>
<tr>
<td>restart: restart the specified unit</td>
<td>systemctl restart nginx</td>
</tr>
<tr>
<td>reload: reload the specified unit</td>
<td>systemctl reload nginx</td>
</tr>
<tr>
<td>enable: Automatically start the specified unit when the system is turned on, provided that there are related configurations in the configuration file</td>
<td>systemctl enable nginx</td>
</tr>
<tr>
<td>disable: do not automatically run the specified unit when booting</td>
<td>systemctl disable nginx</td>
</tr>
<tr>
<td>status: view the current running status of the specified unit</td>
<td>systemctl status nginx</td>
</tr>
</tbody>
</table>
<p><strong>Systemd</strong>  <strong>Configuration file description</strong></p>
<p>Each Unit needs to have a configuration file to tell systemd how to manage the service</p>
<ol>
<li>The configuration file is stored in /usr/lib/systemd/system/, and a soft link file will be created in the /etc/systemd/system directory after setting the boot</li>
<li>The configuration file configuration default suffix of each Unit is .service</li>
<li>In the /usr/lib/systemd/system/ directory, it is divided into two directories: system and user. Generally, the programs that can be run without logging in are stored in the system service, that is, /usr/lib/systemd/system</li>
<li>The configuration file is divided into multiple parts using square brackets and is case-sensitive
<br /></li>
</ol>
<h2 id="8-chrony-mechanism">8 Chrony mechanism</h2>
<p>chrony is a generic implementation of the Network Time Protocol (NTP). It can synchronize the system clock with NTP servers, reference clocks such as GPS receivers. It can also operate as an NTPv4 (RFC 5905) server and peer, providing time services to other computers on the network. chronyd is a daemon that can be started at boot time.</p>
<h3 id="81-installation-configuration">8.1 Installation configuration</h3>
<ol>
<li>Install chrony
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#yum install chrony
</code></pre></div></li>
<li>
<p>Start chrony
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#systemctl start chronyd

[root@VM-6-140-opencloudos /]#systemctl enable chronyd
</code></pre></div></p>
</li>
<li>
<p>View chrony status
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#systemctl status chronyd
</code></pre></div></p>
</li>
</ol>
<h3 id="82-add-time-source">8.2 Add time source</h3>
<ol>
<li>Open the configuration file
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#vim /etc/chrony.conf
</code></pre></div></li>
<li>Add time source parameters<br/>
Add the following parameters to the /etc/chrony.conf configuration file:
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#server time.tencentyun.com iburst
</code></pre></div></li>
<li>View the status of the time synchronization source
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos ~]# chronyc sources -v

^+ 169.254.0.79 2 10 377 688 +149us[+281us] +/- 24ms

^\* 169.254.0.80 2 10 377 29 -380us[-245us] +/- 39ms

^+ 169.254.0.81 2 10 377 691 +31us[+162us] +/- 27ms

^+ 169.254.0.82 2 10 377 613 +158us[+290us] +/- 28ms

^+ 169.254.0.83 2 10 377 767 +168us[+299us] +/- 37ms
</code></pre></div></li>
</ol>
<h3 id="83-the-configuration-takes-effect">8.3 The configuration takes effect</h3>
<p>Restart chrony to make the configuration take effect
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#systemctl restart chronyd
</code></pre></div></p>
<p>View the status of the time synchronization source
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos ~]# chronyc sourcestats -v

169.254.0.79 6 3 86m +0.081 0.289 +191us 178us

169.254.0.80 24 14 396m -0.015 0.017 -235us 156us

169.254.0.81 6 3 86m +0.044 0.257 +62us 140us

169.254.0.82 6 3 86m -0.062 0.420 -118us 142us

169.254.0.83 9 8 137m +0.031 0.035 +165us 47us
</code></pre></div></p>
<h2 id="9-bond-configuration">9 Bond Configuration</h2>
<p>The bond technology is to bind multiple physical network cards to the same IP address to provide external services, and configure them in different modes to achieve high availability, load balancing, and link redundancy.</p>
<h3 id="91-bond-mode">9.1 Bond mode</h3>
<p>Bond has 7 modes, as shown in the table below</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>mode 0</td>
<td>load balancing (round-robin) mode, multiple network cards work at the same time</td>
</tr>
<tr>
<td>mode 1</td>
<td>fault-tolerance (active-backup) provides redundancy function, the working mode is the main-backup working mode</td>
</tr>
<tr>
<td>mode 2</td>
<td>balance-x, providing load balancing and redundancy</td>
</tr>
<tr>
<td>mode 3</td>
<td>means broadcast, this mode provides fault tolerance</td>
</tr>
<tr>
<td>mode 4</td>
<td>Indicates 802.3ad, indicates support for 802.3ad protocol, and cooperates with the aggregation LACP mode of the switch (requires xmit_hash_policy)</td>
</tr>
<tr>
<td>mode 5</td>
<td>means balance-tlb, which automatically adapts to load balancing and automatically switches over failures. On this basis, Ethtool supports drivers</td>
</tr>
<tr>
<td>mode 6</td>
<td>Indicates that the broadcast information of arp is optimized on the basis of mode 5</td>
</tr>
</tbody>
</table>
<p>Among them, mode4 is the common mode</p>
<h3 id="92-configure-bond">9.2 Configure bond</h3>
<ol>
<li>
<p>Select 2 network cards that need to be bound for configuration. Example: eth0/eth1, the parameters of the configuration file ifcfg-eth0 of eth0 in the /etc/sysconfig/network-scripts/ directory are expressed as follows:
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos ~]# /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=eth0 #Network port name: eth0

NAME=eth0

TYPE=Ethernet #Network port type: Ethernet interface

ONBOOT=yes #The network port status is activated when the system starts

BOOTPROTO=none #Network port activation protocol: nono does not apply to any protocol static: set static ip dhcp: set dynamic acquisition ip

MASTER=bond\_test #Specify the name of the virtual network port

SLAVE=yes #Standby (slave device)
</code></pre></div></p>
</li>
<li>
<p>The parameters of the configuration file ifcfg-eth1 in the /etc/sysconfig/network-scripts/ directory of eth1 are expressed as follows:
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos ~]# /etc/sysconfig/network-scripts/ifcfg-eth1
DEVICE=eth1 #Network port name: eth1

NAME=eth1

TYPE=Ethernet #Network port type: Ethernet interface

ONBOOT=yes #The network port status is activated when the system starts

BOOTPROTO=none #Network port activation protocol: nono does not apply to any protocol static: set static ip dhcp: set dynamic acquisition ip

MASTER=bond\_test #Specify the name of the virtual network port

SLAVE=yes #Standby (slave device)
</code></pre></div></p>
</li>
<li>
<p>Configure the bond_test network card in the /etc/sysconfig/network-scripts/ifcfg-bond_test directory
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos ~]# /etc/sysconfig/network-scripts/ifcfg-bond_test

DEVICE=bond\_test #Network port name: bond\_test

NAME=bond\_test

TYPE=Ethernet #Network port type: Ethernet interface

ONBOOT=yes #The network port status is activated when the system starts

DELAY=0

NM\_CONTROLLED=yes

BOOTPROTO=static #Network port activation protocol: nono does not apply to any protocol static: set static ip dhcp: set dynamic acquisition ip

IPADDR=&#39;9.27.148.124&#39; #ip address

NETMASK=&#39;255.255.255.192&#39; #subnet mask

GATEWAY=&#39;9.27.148.65&#39; #Gateway

BONDING\_OPTS=&#39;mode=4 miimon=100 lacp\_rate=fast xmit\_hash\_policy=1&#39;
</code></pre></div>
Among them, miimon means link monitoring: miimon=100 means that the system monitors the link status every 100ms, and if one line fails, it will transfer to another line</p>
</li>
<li>
<p>Configure bonding
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#vim /etc/modprobe.d/dist.conf
alias bond\_test bonding
</code></pre></div></p>
</li>
<li>View the currently used network port
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#cat /proc/net/bonding/bond_test
</code></pre></div>
<br /></li>
</ol>
<h2 id="10-lvm-management">10 LVM Management</h2>
<p>LVM (Logical Volume Manager) logical volume management is a logical layer added between the hard disk partition and the file system. It shields the underlying hard disk partition layout for the file system and provides an abstract volume on which the file system is established. System administrators can use LVM to dynamically adjust the size of the file system without repartitioning the hard disk, and the file system managed by LVM can span physical hard disks. When a new hard disk is added to the server, the administrator does not need to move the original files to the new hard disk, but directly expands the file system through LVM to span the physical hard disk.</p>
<h3 id="101-basic-concepts">10.1 Basic concepts</h3>
<p>Physical Volume (PV): Initialize conventional block devices (hard disks, partitions and other devices that can read and write data) through the pvcreate command to form a physical volume</p>
<p>Volume group (VG): The capacity of multiple physical volumes is formed into a logical whole, and the capacity can be flexibly allocated from it</p>
<p>Logical Volume (LV): Divide part of the space from the volume group into a logical unit that can read and write data, which needs to be formatted and then mounted for use</p>
<h3 id="102-deploy-lvm">10.2 Deploy lvm</h3>
<ol>
<li>Add a physical disk and create a physical volume
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]# lsblk | grep &quot;vd[bcd]&quot;

vdb 253:0 0 50G 0 disk

vdc 253:16 0 50G 0 disk

vdd 253:32 0 50G 0 disk
</code></pre></div></li>
<li>
<p>Add disk to pv
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]# pvcreate /dev/vdb

Physical volume &quot;/dev/sdb&quot; successfully created.//Check pv creation

[root@VM-16-5-opencloudos ~]# pvs

PV VG Fmt Attr PSize PFree

/dev/vdb lvm2 --- 50.00g 50.00g
</code></pre></div></p>
</li>
<li>
<p>Create a volume group named datavg
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]# vgcreate datavg /dev/vdb

Volume group &quot;datavg&quot; successfully created

[root@VM-16-5-opencloudos ~]# vgs

VG #PV #LV #SN Attr VSize VFree

datavg 1 0 0 wz--n- \&lt;50.00g \&lt;50.00g
</code></pre></div></p>
</li>
<li>
<p>Create logical volumes, assign names, and sizes, and specify volume groups
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]# lvcreate -L 100M -n lv1 datavg

Wiping ext4 signature on /dev/datavg/lv1.

Logical volume &quot;lv1&quot; created.

[root@VM-16-5-opencloudos ~]# lvscan

ACTIVE &#39;/dev/datavg/lv1&#39; [100.00 MiB] inherit
</code></pre></div></p>
</li>
<li>
<p>Format file system
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]# mkfs.ext4 /dev/datavg/lv1

Allocating group tables: done

Writing inode tables: done

Creating journal (4096 blocks): done

Writing superblocks and filesystem accounting information: done
</code></pre></div></p>
</li>
<li>
<p>Mount and use
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mkdir /lv1

[root@VM-16-5-opencloudos ~]#mount /dev/datavg/lv1 /lv1/

[root@VM-16-5-opencloudos ~]#df -hl

Filesystem Size Used Avail Use% Mounted on

/dev/mapper/datavg-lv1 93M 1.6M 85M 2% /lv1
</code></pre></div></p>
</li>
</ol>
<h3 id="103-volume-group-management">10.3 Volume group management</h3>
<p>Extend the volume group to add new disks to the volume group</p>
<ol>
<li>Add new disk to pv
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#pvcreate /dev/vdc
</code></pre></div></li>
<li>
<p>Use vgextend extension
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#vgextend datavg /dev/vdc
</code></pre></div></p>
</li>
<li>
<p>Shrink volume group
<div class="highlight"><pre><span></span><code>[root@VM-6-140-opencloudos /]#vgreduce datavg /dev/vdb
</code></pre></div>
Data migration volume group.<br />
Only disks in the same volume group can be migrated online.</p>
</li>
<li>
<p>Check the PV usage in the current logical volume VG
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#pvs

PV VG Fmt Attr PSize PFree

/dev/vdb vg1 lvm2 a -- 2.00g 1.76g

/dev/vdc vg1 lvm2 a -- 2.00g 2.00g
</code></pre></div></p>
</li>
<li>
<p>Pvmove migrates /dev/vdb data to /dev/vdc online
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#pvmove /dev/vdb /dev/vdc
</code></pre></div></p>
</li>
<li>
<p>Check whether the migration is successful
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#pvs

/dev/vdb vg1 lvm2 a -- 2.00g 2.00g

/dev/vdc vg1 lvm2 a -- 2.00g 1.76g
</code></pre></div></p>
</li>
<li>Delete volume group
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#vgremove vgname
</code></pre></div>
Before deleting the volume group, please ensure that the logical volumes in the volume group are not mounted.</li>
</ol>
<h3 id="104-logical-volume-management">10.4 Logical volume management</h3>
<p>Logical volume extension</p>
<p>The expansion of the logical volume depends on the capacity in the volume group, and the capacity of the logical volume expansion cannot exceed the capacity of the volume group</p>
<ol>
<li>Add 1G capacity to the logical volume
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#lvextend -L +1G /dev/datavg/lv1 (Note: 1G and +1G have different meanings)
</code></pre></div></li>
<li>
<p>Expand the file system
<div class="highlight"><pre><span></span><code>xfs\_growfs /dev/datavg/lv1 //xfs file system expansion

resize2fs /dev/datavg/lv1//ext file system expansion
</code></pre></div>
Cut the capacity of logical volumes in ext format<br />
Taking cutting the capacity of the logical volume to 512M as an example, the operation steps are as follows:</p>
</li>
<li>
<p>First create a 1G logical volume as the object to be trimmed
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#lvcreate -n rm_test -L 1G datavg //datavg为卷组

[root@VM-16-5-opencloudos ~]#mkfs.ext4 /dev/datavg/rm_test

[root@VM-16-5-opencloudos ~]#mkdir -p /rm_test

[root@VM-16-5-opencloudos ~]#mount /dev/datavg/rm_test /rm_test/
</code></pre></div></p>
</li>
<li>If it is already mounted, it must be uninstalled first
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#umount /dev/datavg/rm_test
</code></pre></div></li>
<li>To cut the capacity, the file system must be detected first
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#e2fsck -f /dev/datavg/rm_test

[root@VM-16-5-opencloudos ~]#resize2fs /dev/datavg/rm_test 512M
</code></pre></div></li>
<li>After the adjustment, cut the logical volume capacity
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#lvreduce -L 512M /dev/datavg/rm_test
</code></pre></div></li>
<li>
<p>Mounting test, if it can be mounted successfully, the file system is not damaged
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mount /dev/datavg/rm_test
</code></pre></div>
Delete logical volume</p>
</li>
<li>
<p>Make sure the logical volume being deleted is not in use
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#umount /dev/datavg/rm_test # umount /dev/volume group name/logical volume name
</code></pre></div></p>
</li>
<li>Delete the logical volume<br />
    <code>lvremove &lt;volume_group&gt;/&lt;logical_volume&gt;</code>
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#lvremove /dev/datavg/rm_test
</code></pre></div></li>
</ol>
<h2 id="11-soft-raid-management">11 Soft RAID Management</h2>
<p>RAID (redundant array of independent disks) is a redundant array of disks. By combining multiple hard disk devices into a disk array with larger capacity and better security, the data is cut into multiple segments and stored in different physical disks. On the hard disk device, and then use distributed read and write technology to improve the overall performance of the disk array, and at the same time synchronize multiple copies of important data to different physical hard disk devices, thus achieving a very good data redundancy backup effect and fault tolerance.</p>
<p>RAID is divided into soft RAID and hard RAID according to the use of hardware</p>
<p>Soft RAID: no independent RAID controller card, all RAID functions are implemented by the operating system and CPU</p>
<h3 id="111-raid-logical-classification">11.1 RAID logical classification</h3>
<ul>
<li>RAID0</li>
</ul>
<p>Data striping, no parity, no data protection. Data is written to multiple hard disks concurrently.</p>
<p>Advantages: </p>
<ol>
<li>
<p>The read and write performance is the highest among all RAIDs. </p>
</li>
<li>
<p>2.100% disk space utilization</p>
</li>
</ol>
<p>Disadvantage: </p>
<p>It does not provide data redundancy protection, and once the data is damaged, it cannot be recovered.</p>
<p>Application scenarios: RAID 0 is suitable for scenarios that require fast reading and writing, but do not require high data security and reliability, such as video and printing.</p>
<ul>
<li>RAID1</li>
</ul>
<p>Data mirroring, no checksum. Half of the space stores redundant data, and the data security is the highest among all RAIDs.</p>
<p>Advantages: </p>
<ol>
<li>
<p>The security is the highest among all RAIDs, even if half of the disks fail, they can still operate normally. </p>
</li>
<li>
<p>If all the mirrored disks do not fail, the data will not be lost.</p>
</li>
</ol>
<p>Disadvantages: 1. The disk space utilization rate is 50%, and half of the space is used to store redundant data. 2. High cost.</p>
<ul>
<li>RAID5</li>
</ul>
<p>Data striping, parity data (1 group) is evenly distributed on each physical disk. When a physical disk fails, the damaged data can be reconstructed according to other data blocks and corresponding parity data in the same stripe.</p>
<p>Advantages: </p>
<ol>
<li>
<p>Allow 1 physical disk to fail without data loss. </p>
</li>
<li>
<p>The read performance is relatively high, and the disk space utilization rate is greater than that of RAID 10.</p>
</li>
</ol>
<p>Disadvantages: </p>
<ol>
<li>
<p>The write performance is relatively low. </p>
</li>
<li>
<p>When rebuilding data, the performance will be greatly affected.</p>
</li>
<li>
<p>RAID10</p>
</li>
</ol>
<p>The combination of RAID 1 and RAID 0, from the perspective of disks, first group four disks in pairs to form two mirror pairs, use RAID1 mode for data backup in the group first, and use RAID0 for data splitting between groups to improve read performance. write rate. Compared with RAID0, RAID1 uses more disks.</p>
<p>Advantages: </p>
<ol>
<li>
<p>The read performance is second only to RAID 0. </p>
</li>
<li>
<p>If all the disks in the mirror pair do not fail, the data will not be lost.</p>
</li>
<li>
<p>When half of the physical disks fail, they can still operate normally.</p>
</li>
</ol>
<p>Disadvantages: </p>
<ol>
<li>
<p>High cost. </p>
</li>
<li>
<p>The disk space utilization rate is 50%, and half of the space is used to store redundant data.</p>
</li>
<li>
<p>RAID6</p>
</li>
</ol>
<p>Data striping, parity data (2 groups) are evenly distributed on each physical disk. Even if two disks fail at the same time, the damaged data on the two disks can be reconstructed through two sets of parity data.</p>
<p>Advantages: </p>
<ol>
<li>
<p>Allows 2 physical disks to fail without data loss. </p>
</li>
<li>
<p>The read performance is high, and the disk space utilization rate is greater than that of RAID 10.</p>
</li>
</ol>
<p>Cons: Higher cost than RAID 5, lower write performance (lower than RAID 5).</p>
<ul>
<li>RAID50</li>
</ul>
<p>The combination of RAID 5 and RAID 0, create RAID 5 first, and then create RAID 0. Effectively improves the performance of RAID 5. Divide the constituent disks into several identical RAID 5s. Configuring RAID 50 requires at least 6 disks, divided into 2 RAID 5s with 3 disks in each group.</p>
<p>Advantages: </p>
<ol>
<li>
<p>The read and write performance is higher than RAID 5. </p>
</li>
<li>
<p>The fault tolerance is higher than RAID 0 or RAID 5. </p>
</li>
<li>
<p>The failed disks are in different RAID 5, and at most n physical disks are allowed to fail (n is RAID 5 number) without loss of data.</p>
</li>
</ol>
<p>Disadvantages: </p>
<ol>
<li>
<p>When rebuilding a failed disk, if another disk fails in the same RAID 5, all data will be lost. </p>
</li>
<li>
<p>More space is needed in the disk to store the verification data.</p>
</li>
<li>
<p>RAID60</p>
</li>
</ol>
<p>The combination of RAID 6 and RAID 0 creates RAID 6 first and then RAID 0. Effectively improves the performance of RAID6. Divide the constituent disks into several identical RAID 6s. Configuring RAID 60 requires at least 8 disks, divided into two RAID 6 groups of 4 disks each.</p>
<p>Advantages: </p>
<ol>
<li>
<p>The read and write performance is higher than that of RAID 6. </p>
</li>
<li>
<p>The fault tolerance is higher than that of RAID 0 or RAID 6. </p>
</li>
<li>
<p>There are no more than two failed disks in the same RAID 6, and a maximum of 2n physical disks can be allowed to fail (n for RAID 6) without data loss.</p>
</li>
</ol>
<p>Disadvantages: </p>
<ol>
<li>
<p>When rebuilding a failed disk, if a third disk fails in the same RAID 6, all data will be lost. </p>
</li>
<li>
<p>More space is needed in the disk to store the verification data.</p>
</li>
</ol>
<p>The selection of RAID mode is shown in the table below:</p>
<table>
<thead>
<tr>
<th>RAID level</th>
<th>Fault tolerance</th>
<th>Number of hard disks</th>
<th>Available capacity</th>
<th>Allowable number of faulty hard disks</th>
<th>Usage scenarios</th>
</tr>
</thead>
<tbody>
<tr>
<td>RAID 0</td>
<td>None</td>
<td>N&gt;=2</td>
<td>All</td>
<td>0</td>
<td>High read/write, no protection</td>
</tr>
<tr>
<td>RAID 1</td>
<td>Yes</td>
<td>N&gt;=2 and N%2=0</td>
<td>Half</td>
<td></td>
<td></td>
</tr>
<tr>
<td>RAID 5</td>
<td>Yes</td>
<td>N&gt;=3</td>
<td>(N-1)*single disk capacity</td>
<td>1</td>
<td>Random data transmission, high security requirements</td>
</tr>
<tr>
<td>RAID 6</td>
<td>Yes</td>
<td>N&gt;=4</td>
<td>(N-2)*single disk capacity</td>
<td>2</td>
<td>Use less</td>
</tr>
<tr>
<td>RAID 10</td>
<td>Yes</td>
<td>N&gt;=4 and N%2=0</td>
<td>Half</td>
<td>Half</td>
<td>High read/write, high protection</td>
</tr>
<tr>
<td>RAID 50</td>
<td>Yes</td>
<td>N&gt;=6</td>
<td>Each RAID5 has 1 disk to store parity data</td>
<td>Each RAID5 allows 1 disk to fail</td>
<td>Less usage</td>
</tr>
<tr>
<td>RAID 60</td>
<td>Yes</td>
<td>N&gt;=8</td>
<td>Each RAID6 has 2 disks for parity data storage</td>
<td>Each RAID6 allows 2 disk failures</td>
<td>Less usage</td>
</tr>
</tbody>
</table>
<h3 id="112-soft-raid10-deployment">11.2 Soft RAID10 Deployment</h3>
<p>There is an md (multiple devices) module in the Linux kernel to manage RAID devices at the bottom layer. It will provide users with an application tool mdadm at the application layer. mdadm is a command for creating and managing software RAID under Linux.</p>
<p>This document divides the disk /dev/vdb/ into four partitions as four disks to build soft RAID10;</p>
<ol>
<li>Create raid10
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mdadm -C -v /dev/md10 -l 10 -n 4 /dev/vdb[1-4]

mdadm: layout defaults to n2

mdadm: layout defaults to n2

mdadm: chunk size defaults to 512K

mdadm: size set to 5237760K

mdadm: Defaulting to version 1.2 metadata

mdadm: array /dev/md10 started.
</code></pre></div></li>
</ol>
<p>Parameter Description:</p>
<ul>
<li>
<p><code>-C</code> create</p>
</li>
<li>
<p><code>-v</code> visualize</p>
</li>
<li>
<p><code>-l</code> specifies the RAID level</p>
</li>
<li>
<p><code>-n</code> specifies the number of devices</p>
</li>
<li>
<p>View saved configuration
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mdadm -D /dev/md10

[root@VM-16-5-opencloudos ~]#mdadm -Dsv \&gt; /etc/mdadm.conf
</code></pre></div></p>
</li>
<li>View array information
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#cat /proc/mdstat
</code></pre></div></li>
<li>Format and mount md10 as a whole disk
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mkfs.ext4 /dev/md10

[root@VM-16-5-opencloudos ~]#mount -t ext4 /dev/md10 /mnt/
</code></pre></div>
At this point, the disk array is available</li>
</ul>
<h3 id="113-unmounting-the-raid-array">11.3 Unmounting the RAID array</h3>
<p>Taking the RAID created in Section 11.2 above as an example, execute the following command to uninstall the disk array
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#umount /dev/md10

[root@VM-16-5-opencloudos ~]#mdadm -S /dev/md10

[root@VM-16-5-opencloudos ~]#mdadm --misc --zero-superblock /dev/vdb[1-4]
</code></pre></div></p>
<h2 id="12-partition-management">12 Partition Management</h2>
<h3 id="121-disk-partition-basics">12.1 Disk Partition Basics</h3>
<ul>
<li>Basic partition (primary partition)</li>
</ul>
<p>Basic partitions are also called primary partitions. The sum of boot partitions, primary partitions and extended partitions for each disk partition cannot exceed four.</p>
<p>Basic partitions can be used immediately after creation, but there is an upper limit on the number of partitions.</p>
<ul>
<li>Extension partion</li>
</ul>
<p>Each disk can only be divided into one extended partition, and any logical partition can be divided into the extended partition</p>
<p>After the extended partition is created, it cannot be used directly, and a logical partition needs to be created in the extended partition</p>
<ul>
<li>Logical partition</li>
</ul>
<p>A logical partition is a partition created within an extended partition</p>
<p>A logical partition is equivalent to a storage medium, completely independent from other logical partitions and primary partitions</p>
<p>The disk partition mainly uses the fdisk -l tool</p>
<h3 id="122-create-mbr-partition">12.2 Create MBR partition</h3>
<p>Select a disk that needs to be partitioned, take /dev/vdb/ as an example, use the fdisk tool to create a new partition
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# fdisk /dev/vdb

Command (m for help): n //Create a new partition

Partition type

p primary (0 primary, 0 extended, 4 free)

e extended (container for logical partitions)

Select (default p): p //Select the partition type, take the primary partition as an example

Partition number (1-4, default 1):1 //Select partition number

First sector (2048-104857599, default 2048): 2048 //sector start address

Last sector, +sectors or +size{K,M,G,T,P} (2048-104857599, default 104857599):+5G //Specify sector capacity

Created a new partition 1 of type &#39;Linux&#39; and of size 5 GiB.

Command (m for help): wq //Save changes and exit
</code></pre></div>
So far, the new partition has been successfully created!</p>
<p>Other operating parameters are as follows:</p>
<table>
<thead>
<tr>
<th>fdisk -l</th>
<th>view, list disk information</th>
</tr>
</thead>
<tbody>
<tr>
<td>fdisk /dev/vdb</td>
<td>operate</td>
</tr>
<tr>
<td>p</td>
<td>List the existing partitions of the disk, the partition type is primary partition</td>
</tr>
<tr>
<td>e</td>
<td>partition type is extended partition</td>
</tr>
<tr>
<td>n</td>
<td>add new disk partition</td>
</tr>
<tr>
<td>d</td>
<td>delete an existing disk partition</td>
</tr>
<tr>
<td>w</td>
<td>save partition operations</td>
</tr>
<tr>
<td>q</td>
<td>discard changes and exit</td>
</tr>
<tr>
<td>t</td>
<td>Change the id of the partition, that is, modify the partition function id</td>
</tr>
<tr>
<td>l</td>
<td>list existing partition types</td>
</tr>
</tbody>
</table>
<h3 id="123-format-partition">12.3 Format partition</h3>
<p>The newly created partition needs to be formatted with the corresponding file system, taking the ext4 format as an example
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mkfs.ext4 /dev/vdb1
</code></pre></div></p>
<h3 id="124-mountunmount-partitions">12.4 Mount/unmount partitions</h3>
<p>You need to mount the formatted partition to a specified directory before it can be used, such as mounting the partition to the /mnt/ partition
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#mount -t ext4 /dev/vdb1
</code></pre></div>
After the partition is not used, the partition can be unmounted
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#umount /dev/vdb1
</code></pre></div></p>
<h3 id="125-create-gpt-partition">12.5 Create GPT partition</h3>
<p>The fdisk command is used to create and maintain disk partitions, and fdisk can only partition hard disks smaller than 2TB. For hard disks larger than 2TB, you need to use the parted tool to partition. Using fdisk to create partitions can only create MBR partition schemes.</p>
<ol>
<li>Enter parted interactive mode
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# parted

(parted) select /dev/vdb //select disk /dev/vdb

(parted) print free //View disk information
</code></pre></div></li>
<li>
<p>Create a new partition
<div class="highlight"><pre><span></span><code>(parted) mkpart

Partition type? primary/extended? primary

File system type? [ext2]? ext4

Start? 1

End? 5G

(parted)quit
</code></pre></div></p>
</li>
<li>
<p>Format the disk as a GPT disk
<div class="highlight"><pre><span></span><code>(parted) mklabel gpt
</code></pre></div></p>
</li>
</ol>
<h3 id="126-resize-partition">12.6 Resize Partition</h3>
<p>Parted can adjust the size of the partition. Note that when parted adjusts the mounted partition, it will not affect the data in the partition. But be sure to unmount the partition first, and then resize the partition, otherwise there will be problems with the data. In addition, the partition to be resized must have established a file system (formatted), otherwise an error will be reported.</p>
<p>Take resizing the /dev/vdb1 partition as an example</p>
<ol>
<li>Unmount the partition
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#umount /dev/vdb1
</code></pre></div></li>
<li>Enter parted interactive mode<br />
Execute the following command
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# parted /dev/vdb

(parted) resizepart

Partition number? 1

End? 10G

(parted) quit
</code></pre></div></li>
</ol>
<h3 id="127-delete-gpt-partition">12.7 Delete GPT partition</h3>
<ol>
<li>Unmount the partition
<div class="highlight"><pre><span></span><code>[root@VM-16-5-opencloudos ~]#umount /dev/vdb1
</code></pre></div></li>
<li>Enter parted interactive mode<br />
Execute the following command
<div class="highlight"><pre><span></span><code>[root@VM-6-130-opencloudos /]# parted /dev/vdb

(parted) rm

Partition number? 1

(parted) quit
</code></pre></div>
It should be noted that all operations in parted take effect immediately, and there is no concept of saving and taking effect. This is obviously different from the fdisk interactive command, so all operations should be done with care.</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>